# Ai Compute Vision and Autonomous Event Attestation Service using Agent-Kit (OnChain)

This repository implements a Ai service that revolutionizes event attestation by leveraging **autonomous AI agents** for advanced computer vision, decentralized storage via IPFS, and on-chain attestations with Ethereum Attestation Service (EAS). The service analyzes uploaded image frames, extracts event details using computer vision, and creates verifiable blockchain attestations, all powered by cutting-edge AI and blockchain integrations.

---

## **Overview**

### **Key Features of the Service**

1. **Image Upload and Processing**:
   - Users upload images, which are analyzed by **autonomous AI agents** for extracting detailed event metadata.

2. **Autonomous AI Agents with Computer Vision**:
   - AI agents powered by OpenAI GPT and computer vision models analyze image frames to identify event contexts.
   - They autonomously interpret visual content to generate metadata such as event names, descriptions, occasions, and location insights.

3. **On-Chain Attestations**:
   - The Ethereum Attestation Service (EAS) encodes and records the extracted metadata on the blockchain, creating immutable event attestations.

4. **Schema Management with AgentKit**:
   - **AgentKit** is utilized to define schemas for structuring event metadata and fetching event details dynamically.

---

## **How Autonomous AI Agents Enhance the Workflow**

1. **Advanced Computer Vision**:
   - AI agents perform in-depth analysis of image frames to detect objects, environments, and contextual cues.
   - This enhances metadata extraction, allowing the identification of nuanced details like event themes, attendee sentiment, and geographical context.

2. **Autonomous Decision-Making**:
   - The agents independently assess images to generate structured data without manual intervention.
   - Their capabilities include dynamic metadata generation, such as:
     - **Event Name**: Derived from visual cues like banners or text within the image.
     - **Event Description**: Formulated based on scene composition and elements detected in the image.
     - **Location Insights**: Identified through geotagged content or visual patterns like landmarks.

3. **Continuous Learning**:
   - The AI agents improve their analytical capabilities over time, refining their understanding of diverse event scenarios.

4. **Integration with Decentralized Systems**:
   - Results generated by AI agents are securely pinned to IPFS and attested on-chain, ensuring data integrity and transparency.

---

## **Service Workflow**

### **Step-by-Step Process**

1. **Image Upload**:
   - A user uploads an image to the `/upload-image` endpoint.
   - The image is temporarily stored on the server and pinned to IPFS for decentralized access.

2. **Autonomous AI Analysis**:
   - The image is sent to OpenAI's GPT and computer vision models for metadata extraction.
   - The AI agents autonomously analyze the image, identifying key attributes like event name, description, occasion, and location.

3. **Metadata Encoding and Attestation**:
   - Metadata is encoded using schemas defined via **AgentKit**.
   - The Ethereum Attestation Service (EAS) stores this data on-chain, linking it to a recipient address.

4. **Response**:
   - The service returns the IPFS URL, extracted metadata, and the attestation UID.

---

## **Core Technologies**

### **1. Autonomous AI Agents for Computer Vision**
- **Purpose**: Perform advanced image analysis to extract detailed metadata.
- **Capabilities**:
  - Scene recognition: Identifying objects, environments, and text.
  - Contextual understanding: Inferring event details from visual patterns.
  - Location estimation: Extracting geographical insights from image frames.

### **2. Ethereum Attestation Service (EAS)**
- **Purpose**: Create and manage verifiable attestations on-chain.
- **Usage**:
  - Encodes metadata into attestations using defined schemas.
  - Records data immutably on Ethereum-compatible networks.

### **3. AgentKit**
- **Purpose**: Manage schemas and fetch dynamic event details.
- **Usage**:
  - Defines the structure of event metadata for encoding.
  - Dynamically retrieves event-specific data for attestations.

### **4. Pinata and IPFS**
- **Purpose**: Enable decentralized storage of image files.
- **Usage**:
  - Pins images to IPFS and provides immutable URLs.
  - Ensures long-term, decentralized access to image content.

---

## **Endpoints**

### **POST /upload-image**
Handles image upload, AI analysis, IPFS pinning, and on-chain attestation.

- **Request Parameters**:
  - `image` (form-data): The image file to upload.
  - `location_coordinates` (string): JSON string of latitude and longitude.
  - `recipient` (string): Ethereum address for attestation.

- **Response**:
  - `ipfsUrl`: IPFS URL of the uploaded image.
  - `schemaValues`: Metadata extracted by autonomous AI agents.
  - `attestationUID`: Unique ID of the created attestation.

---

## **Project Structure**

```plaintext
/project-root
  ├── uploads/                     # Temporary storage for uploaded images
  ├── app.js                       # Main application file
  ├── package.json                 # Project metadata and dependencies
  ├── .env                         # Environment variables
  ├── utils/
  │   ├── ipfs.js                  # IPFS interactions
  │   ├── openai.js                # OpenAI integration
  │   ├── eas.js                   # EAS interaction
  │   └── agentkit.js              # AgentKit schema management
